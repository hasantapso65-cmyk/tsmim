<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØµÙ…Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©</title>
    
    <!-- ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø© Tailwind CSS Ù„Ù„ØªØµÙ…ÙŠÙ… -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- ØªØ­Ù…ÙŠÙ„ React Ùˆ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- ØªØ­Ù…ÙŠÙ„ Babel Ù„ØªØ±Ø¬Ù…Ø© ÙƒÙˆØ¯ React ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- ØªØ­Ù…ÙŠÙ„ Ù…ÙƒØªØ¨Ø© html2canvas Ù„Ø­ÙØ¸ Ø§Ù„ØµÙˆØ± -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Cairo:wght@400;700&family=Reem+Kufi:wght@400;700&display=swap');
        
        body { font-family: 'Cairo', sans-serif; }
        .font-kufi { font-family: 'Reem Kufi', sans-serif; }
        .font-amiri { font-family: 'Amiri', serif; }
        .font-cairo { font-family: 'Cairo', sans-serif; }
        
        /* ØªØ­Ø³ÙŠÙ† Ø´ÙƒÙ„ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #888; border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #555; }
    </style>
</head>
<body class="bg-gray-50 text-right">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª SVG Ù…Ø¯Ù…Ø¬Ø© (Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ù…ÙƒØªØ¨Ø© Lucide) ---
        const IconDownload = ({ size = 20 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        );
        const IconType = ({ size = 20 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="4 7 4 4 20 4 20 7"/><line x1="9" y1="20" x2="15" y2="20"/><line x1="12" y1="4" x2="12" y2="20"/></svg>
        );
        const IconPalette = ({ size = 20 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 2.69l5.74 9.94L12 22.31 6.26 12.63 12 2.69z"/></svg>
        );
        const IconPlus = ({ size = 20 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        );
        const IconMinus = ({ size = 20 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="5" y1="12" x2="19" y2="12"/></svg>
        );
        const IconList = ({ size = 20 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>
        );
        const IconLayout = ({ size = 20 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
        );
        const IconDroplet = ({ size = 20 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 2.69l5.74 9.94L12 22.31 6.26 12.63 12 2.69z"/></svg>
        );

        // --- Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ---
        const CardGenerator = () => {
            const [text, setText] = useState("Ø¥Ù† Ù…Ø¹Ø±ÙØ© Ø§Ù„ØªØ§Ø±ÙŠØ® Ù„ÙŠØ³Øª ØªØ±ÙØ§Ù‹ ÙÙƒØ±ÙŠØ§Ù‹ØŒ Ø¨Ù„ Ù‡ÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ Ø§Ù„Ø°ÙŠ Ù†Ø¨Ù†ÙŠ Ø¹Ù„ÙŠÙ‡ ÙÙ‡Ù…Ù†Ø§ Ù„Ù„Ø­Ø§Ø¶Ø±.\nØ§Ù„Ø£Ù…Ø© Ø§Ù„ØªÙŠ Ù„Ø§ ØªØ¹Ø±Ù ÙƒÙŠÙ ØªØºÙŠØ±Øª ÙÙŠ Ø§Ù„Ù‚Ø±Ù†ÙŠÙ† Ø§Ù„Ù…Ø§Ø¶ÙŠÙŠÙ†ØŒ Ù„Ù† ØªØ¯Ø±Ùƒ ÙƒÙŠÙ ØªØ³ØªØ¹ÙŠØ¯ Ù…ÙƒØ§Ù†ØªÙ‡Ø§.");
            const [episodeNum, setEpisodeNum] = useState("1");
            const [theme, setTheme] = useState('vintage');
            const [fontSize, setFontSize] = useState(18);
            const [fontWeight, setFontWeight] = useState(400); 
            const [isListMode, setIsListMode] = useState(false);
            
            // Custom Colors State
            const [customTextColor, setCustomTextColor] = useState("");
            const [customAccentColor, setCustomAccentColor] = useState("");

            const cardRef = useRef(null);
            const [isSaving, setIsSaving] = useState(false);

            const handleDownload = async () => {
                if (window.html2canvas && cardRef.current) {
                setIsSaving(true);
                try {
                    const canvas = await window.html2canvas(cardRef.current, {
                    scale: 2,
                    useCORS: true,
                    backgroundColor: null,
                    });
                    const link = document.createElement('a');
                    link.download = `faeda-episode-${episodeNum}.png`;
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                } catch (err) {
                    console.error("ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸", err);
                    alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸.");
                }
                setIsSaving(false);
                } else {
                alert("Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø£Ø¯Ø§Ø©ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹...");
                }
            };

            // Expanded Themes List (15 Themes)
            const themes = {
                vintage: { name: "Ù…Ø®Ø·ÙˆØ·Ø© Ø¹ØªÙŠÙ‚Ø©", bg: "bg-[#fdf6e3]", border: "border-double border-[#8b7355]", textColor: "#3e2723", accentColor: "#8b7355", font: "font-amiri", patternOpacity: "opacity-10", patternColor: "#000" },
                midnight: { name: "Ø§Ù„Ù„ÙŠÙ„ ÙˆØ§Ù„Ø°Ù‡Ø¨", bg: "bg-[#1a2e35]", border: "border-[#d4af37]", textColor: "#e8e8e8", accentColor: "#d4af37", font: "font-kufi", patternOpacity: "opacity-5", patternColor: "#d4af37" },
                modern: { name: "Ø­Ø¯Ø§Ø«Ø© Ø±Ù…Ø§Ø¯ÙŠØ©", bg: "bg-gradient-to-br from-gray-50 to-gray-200", border: "border-[#2c3e50]", textColor: "#2c3e50", accentColor: "#c0392b", font: "font-kufi", patternOpacity: "opacity-0", patternColor: "#000" },
                andalus: { name: "Ø£Ù†Ø¯Ù„Ø³ÙŠ Ø£Ø®Ø¶Ø±", bg: "bg-[#f0f7f4]", border: "border-[#2d5a27]", textColor: "#1a3c1e", accentColor: "#2d5a27", font: "font-amiri", patternOpacity: "opacity-15", patternColor: "#2d5a27" },
                ink: { name: "Ø­Ø¨Ø± ÙˆÙˆØ±Ù‚", bg: "bg-white", border: "border-black", textColor: "#000000", accentColor: "#000000", font: "font-cairo", patternOpacity: "opacity-5", patternColor: "#000" },
                
                royal: { name: "Ù…Ù„ÙƒÙŠ ÙØ§Ø®Ø±", bg: "bg-[#240046]", border: "border-[#ff9e00]", textColor: "#ffffff", accentColor: "#ff9e00", font: "font-amiri", patternOpacity: "opacity-10", patternColor: "#ff9e00" },
                nature: { name: "Ø·Ø¨ÙŠØ¹Ø© Ù‡Ø§Ø¯Ø¦Ø©", bg: "bg-[#e9edc9]", border: "border-[#606c38]", textColor: "#283618", accentColor: "#606c38", font: "font-cairo", patternOpacity: "opacity-20", patternColor: "#606c38" },
                sunset: { name: "ØºØ±ÙˆØ¨ Ø§Ù„Ø´Ù…Ø³", bg: "bg-gradient-to-b from-[#ff512f] to-[#dd2476]", border: "border-white", textColor: "#ffffff", accentColor: "#ffecd2", font: "font-kufi", patternOpacity: "opacity-10", patternColor: "#fff" },
                ocean: { name: "Ø£Ø¹Ù…Ø§Ù‚ Ø§Ù„Ù…Ø­ÙŠØ·", bg: "bg-gradient-to-tr from-[#000428] to-[#004e92]", border: "border-[#00d2ff]", textColor: "#e0f7fa", accentColor: "#00d2ff", font: "font-kufi", patternOpacity: "opacity-10", patternColor: "#00d2ff" },
                desert: { name: "Ø±Ù…Ø§Ù„ Ø§Ù„ØµØ­Ø±Ø§Ø¡", bg: "bg-[#d7ccc8]", border: "border-[#5d4037]", textColor: "#3e2723", accentColor: "#5d4037", font: "font-amiri", patternOpacity: "opacity-15", patternColor: "#5d4037" },
                slate: { name: "ØµØ®Ø±ÙŠ Ø¯Ø§ÙƒÙ†", bg: "bg-[#1e293b]", border: "border-[#94a3b8]", textColor: "#e2e8f0", accentColor: "#94a3b8", font: "font-cairo", patternOpacity: "opacity-5", patternColor: "#fff" },
                cherry: { name: "Ø²Ù‡Ø± Ø§Ù„ÙƒØ±Ø²", bg: "bg-[#fff0f3]", border: "border-[#ff4d6d]", textColor: "#590d22", accentColor: "#ff4d6d", font: "font-amiri", patternOpacity: "opacity-20", patternColor: "#ff4d6d" },
                navy_gold: { name: "Ø¨Ø­Ø±ÙŠØ© ÙˆØ°Ù‡Ø¨", bg: "bg-[#001d3d]", border: "border-[#ffc300]", textColor: "#ffc300", accentColor: "#ffd60a", font: "font-kufi", patternOpacity: "opacity-5", patternColor: "#ffd60a" },
                minimal: { name: "Ø¨Ø³Ø§Ø·Ø© Ù…Ø·Ù„Ù‚Ø©", bg: "bg-gray-50", border: "border-gray-300", textColor: "#333333", accentColor: "#999999", font: "font-cairo", patternOpacity: "opacity-0", patternColor: "#000" },
                lavender: { name: "Ø®Ø²Ø§Ù…Ù‰", bg: "bg-[#f3e5f5]", border: "border-[#ab47bc]", textColor: "#4a148c", accentColor: "#ab47bc", font: "font-amiri", patternOpacity: "opacity-10", patternColor: "#ab47bc" },
            };

            const currentTheme = themes[theme];
            
            const activeTextColor = customTextColor || currentTheme.textColor;
            const activeAccentColor = customAccentColor || currentTheme.accentColor;

            return (
                <div className="min-h-screen bg-gray-50 p-4 font-sans text-right" dir="rtl">
                
                <div className="max-w-4xl mx-auto mb-6 text-center">
                    <h1 className="text-2xl font-bold text-gray-800">Ù…ØµÙ…Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</h1>
                </div>

                <div className="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-6">
                    
                    {/* Controls Section */}
                    <div className="lg:col-span-4 space-y-4">
                    
                    {/* Content Panel */}
                    <div className="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
                        <h3 className="font-bold text-gray-700 mb-4 flex items-center gap-2 border-b pb-2">
                        <IconType size={18} /> Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙˆÙ†ÙˆØ¹ Ø§Ù„ÙØ§Ø¦Ø¯Ø©
                        </h3>

                        {/* Mode Selection Toggles */}
                        <div className="bg-gray-100 p-1 rounded-lg flex mb-4">
                        <button 
                            onClick={() => setIsListMode(false)}
                            className={`flex-1 py-2 text-sm font-bold rounded-md transition-all flex items-center justify-center gap-2 ${!isListMode ? 'bg-white text-indigo-600 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`}
                        >
                            <IconLayout size={16} /> ÙØ§Ø¦Ø¯Ø© ÙˆØ§Ø­Ø¯Ø©
                        </button>
                        <button 
                            onClick={() => setIsListMode(true)}
                            className={`flex-1 py-2 text-sm font-bold rounded-md transition-all flex items-center justify-center gap-2 ${isListMode ? 'bg-white text-indigo-600 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`}
                        >
                            <IconList size={16} /> Ø¹Ø¯Ø© ÙÙˆØ§Ø¦Ø¯
                        </button>
                        </div>
                        
                        <div className="mb-4">
                        <textarea
                            className="w-full h-32 p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none text-sm resize-none"
                            value={text}
                            onChange={(e) => setText(e.target.value)}
                            placeholder={isListMode ? "Ø§ÙƒØªØ¨ ÙƒÙ„ ÙØ§Ø¦Ø¯Ø© ÙÙŠ Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯..." : "Ø§ÙƒØªØ¨ Ù†Øµ Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ù‡Ù†Ø§..."}
                        />
                        <p className="text-xs text-gray-400 mt-1">
                            {isListMode ? "ğŸ’¡ ÙƒÙ„ Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯ Ø³ÙŠØ¸Ù‡Ø± ÙƒÙ†Ù‚Ø·Ø© Ù…Ù†ÙØµÙ„Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©" : "ğŸ’¡ Ø³ÙŠØªÙ… ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙÙŠ ÙˆØ³Ø· Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©"}
                        </p>
                        </div>

                        <div className="grid grid-cols-2 gap-4">
                        <div>
                            <label className="text-sm font-medium text-gray-600 block mb-1">Ø±Ù‚Ù… Ø§Ù„Ø­Ù„Ù‚Ø©</label>
                            <input 
                            type="text" 
                            value={episodeNum}
                            onChange={(e) => setEpisodeNum(e.target.value)}
                            className="w-full p-2 border border-gray-200 rounded-lg text-center"
                            />
                        </div>
                        <div>
                            <label className="text-sm font-medium text-gray-600 block mb-1">Ø­Ø¬Ù… Ø§Ù„Ø®Ø·</label>
                            <div className="flex items-center gap-2 bg-gray-50 rounded-lg p-1 border border-gray-200">
                            <button onClick={() => setFontSize(Math.max(12, fontSize - 1))} className="p-1 hover:bg-white rounded shadow-sm"><IconMinus size={14}/></button>
                            <span className="flex-1 text-center text-sm font-bold">{fontSize}</span>
                            <button onClick={() => setFontSize(Math.min(60, fontSize + 1))} className="p-1 hover:bg-white rounded shadow-sm"><IconPlus size={14}/></button>
                            </div>
                        </div>
                        </div>
                    </div>

                    {/* Styling Panel */}
                    <div className="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
                        <h3 className="font-bold text-gray-700 mb-4 flex items-center gap-2 border-b pb-2">
                        <IconPalette size={18} /> Ø§Ù„ØªØ®ØµÙŠØµ ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†
                        </h3>

                        {/* Custom Colors */}
                        <div className="grid grid-cols-2 gap-4 mb-6">
                        <div>
                            <label className="text-xs font-bold text-gray-500 mb-1 block flex items-center gap-1">
                            <IconDroplet size={12} /> Ù„ÙˆÙ† Ø§Ù„Ù†Øµ
                            </label>
                            <div className="flex items-center gap-2">
                            <input 
                                type="color" 
                                value={activeTextColor}
                                onChange={(e) => setCustomTextColor(e.target.value)}
                                className="w-8 h-8 rounded cursor-pointer border-0" 
                            />
                            <button onClick={() => setCustomTextColor("")} className="text-xs text-gray-400 underline">Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·</button>
                            </div>
                        </div>
                        <div>
                            <label className="text-xs font-bold text-gray-500 mb-1 block flex items-center gap-1">
                            <IconLayout size={12} /> Ù„ÙˆÙ† Ø§Ù„Ø²Ø®Ø±ÙØ©
                            </label>
                            <div className="flex items-center gap-2">
                            <input 
                                type="color" 
                                value={activeAccentColor}
                                onChange={(e) => setCustomAccentColor(e.target.value)}
                                className="w-8 h-8 rounded cursor-pointer border-0" 
                            />
                            <button onClick={() => setCustomAccentColor("")} className="text-xs text-gray-400 underline">Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·</button>
                            </div>
                        </div>
                        </div>

                        {/* Themes Grid */}
                        <div className="space-y-2">
                        <label className="text-sm font-medium text-gray-600">Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ø¬Ø§Ù‡Ø²:</label>
                        <div className="grid grid-cols-3 gap-2 max-h-48 overflow-y-auto pr-1 custom-scrollbar">
                            {Object.keys(themes).map((t) => (
                            <button
                                key={t}
                                onClick={() => {
                                setTheme(t);
                                setCustomTextColor(""); 
                                setCustomAccentColor("");
                                }}
                                className={`p-2 rounded-lg border text-[10px] font-bold transition-all relative overflow-hidden h-16 flex flex-col items-center justify-center gap-1 ${
                                theme === t 
                                ? 'ring-2 ring-indigo-500 border-indigo-500' 
                                : 'border-gray-200 hover:border-gray-300'
                                }`}
                            >
                                <div className={`absolute inset-0 opacity-20 ${themes[t].bg}`}></div>
                                <span className="relative z-10 text-gray-700">{themes[t].name}</span>
                                {theme === t && <div className="absolute top-1 right-1 w-2 h-2 bg-indigo-500 rounded-full"></div>}
                            </button>
                            ))}
                        </div>
                        </div>
                    </div>

                    <button 
                        onClick={handleDownload}
                        disabled={isSaving}
                        className="w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-lg font-bold flex items-center justify-center gap-2 transition-transform active:scale-95 disabled:opacity-70"
                    >
                        {isSaving ? "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸..." : <><IconDownload size={20} /> Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø©</>}
                    </button>
                    </div>

                    {/* Preview Section */}
                    <div className="lg:col-span-8 bg-gray-200 rounded-xl p-4 lg:p-8 flex items-center justify-center overflow-auto shadow-inner min-h-[600px]">
                    
                    <div 
                        ref={cardRef}
                        id="card-canvas"
                        className={`relative w-[500px] h-[650px] shadow-2xl flex flex-col justify-between overflow-hidden transition-colors duration-500 ${currentTheme.bg}`}
                        style={{ 
                        borderWidth: '4px',
                        borderStyle: theme === 'vintage' ? 'double' : 'solid',
                        borderColor: activeAccentColor 
                        }}
                    >
                        {/* Dynamic Pattern Overlay */}
                        <div className={`absolute inset-0 pointer-events-none ${currentTheme.patternOpacity}`} 
                            style={{
                            backgroundImage: `radial-gradient(circle, ${currentTheme.patternColor} 1px, transparent 1px)`,
                            backgroundSize: '20px 20px'
                            }}>
                        </div>

                        {/* Header */}
                        <div className="relative z-10 p-8 pb-4 text-center">
                        <div 
                            className="inline-block px-4 py-1 border rounded-full text-xs mb-3 opacity-80"
                            style={{ color: activeTextColor, borderColor: activeTextColor }}
                        >
                            Ø§Ù„Ø­Ù„Ù‚Ø© {episodeNum}
                        </div>
                        
                        <h1 
                            className={`text-3xl font-bold ${currentTheme.font} leading-tight`}
                            style={{ color: activeAccentColor }}
                        >
                            ÙƒÙŠÙ ØªØºÙŠÙ‘Ø±Øª Ø£Ù…Ù‘ØªÙ†Ø§ØŸ
                        </h1>
                        
                        <p 
                            className="text-xs mt-2 opacity-80 font-bold tracking-wide"
                            style={{ color: activeTextColor }}
                        >
                            Ø§Ù„Ø£Ù…Ù‘Ø© ÙÙŠ 200 Ø¹Ø§Ù…
                        </p>
                        
                        <div 
                            className="h-px w-32 mx-auto mt-4 opacity-30"
                            style={{ backgroundColor: activeTextColor }}
                        ></div>
                        </div>

                        {/* Content Body */}
                        <div className="relative z-10 flex-grow px-10 py-4 flex flex-col justify-center items-center">
                        <div className="relative w-full">
                            
                            {/* Decorative Quotes for Single Mode */}
                            {!isListMode && (
                            <>
                                <span className="absolute -top-8 -right-4 text-8xl opacity-20 font-serif leading-none" style={{ color: activeAccentColor }}>"</span>
                                <span className="absolute -bottom-10 -left-4 text-8xl opacity-20 font-serif leading-none" style={{ color: activeAccentColor }}>"</span>
                            </>
                            )}

                            <div 
                            className={`${currentTheme.font}`}
                            style={{ 
                                fontSize: `${fontSize}px`, 
                                fontWeight: fontWeight,
                                color: activeTextColor,
                                lineHeight: isListMode ? '1.8' : '1.6'
                            }}
                            >
                            {isListMode ? (
                                <ul className="list-none space-y-3 w-full">
                                {text.split('\n').filter(line => line.trim() !== '').map((line, idx) => (
                                    <li key={idx} className="flex items-start gap-3">
                                    <span 
                                        className="mt-2 w-2 h-2 rounded-full flex-shrink-0"
                                        style={{ backgroundColor: activeAccentColor }}
                                    ></span>
                                    <span className="flex-1">{line}</span>
                                    </li>
                                ))}
                                </ul>
                            ) : (
                                <p className="text-center whitespace-pre-wrap">
                                {text || "Ø§ÙƒØªØ¨ Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ù‡Ù†Ø§..."}
                                </p>
                            )}
                            </div>
                        </div>
                        </div>

                        {/* Footer */}
                        <div className="relative z-10 p-6 flex justify-between items-end bg-black/5 backdrop-blur-[2px]">
                        <div className="flex flex-col">
                            <span className="text-[10px] opacity-60 uppercase tracking-widest" style={{ color: activeTextColor }}>Ø¥Ù„Ù‚Ø§Ø¡</span>
                            <span className={`font-bold ${currentTheme.font} text-lg`} style={{ color: activeTextColor }}>Ø£. Ù…Ø­Ù…Ø¯ Ø®Ø§Ù„Ø¯</span>
                        </div>
                        </div>

                        {/* Corner Decorations */}
                        <div className="absolute top-0 left-0 w-full h-full pointer-events-none overflow-hidden">
                            <svg className="absolute top-4 left-4 w-12 h-12 opacity-30" style={{ color: activeAccentColor }} viewBox="0 0 100 100" fill="currentColor"><path d="M0 0 L30 0 L0 30 Z" /></svg>
                            <svg className="absolute top-4 right-4 w-12 h-12 opacity-30" style={{ color: activeAccentColor }} viewBox="0 0 100 100" fill="currentColor"><path d="M100 0 L70 0 L100 30 Z" /></svg>
                            <svg className="absolute bottom-4 left-4 w-12 h-12 opacity-30" style={{ color: activeAccentColor }} viewBox="0 0 100 100" fill="currentColor"><path d="M0 100 L30 100 L0 70 Z" /></svg>
                            <svg className="absolute bottom-4 right-4 w-12 h-12 opacity-30" style={{ color: activeAccentColor }} viewBox="0 0 100 100" fill="currentColor"><path d="M100 100 L70 100 L100 70 Z" /></svg>
                        </div>

                    </div>
                    </div>
                </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CardGenerator />);
    </script>
</body>
</html>
